/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.l = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// identity function for calling harmory imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };

/******/ 	// define getter function for harmory exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		Object.defineProperty(exports, name, {
/******/ 			configurable: false,
/******/ 			enumerable: true,
/******/ 			get: getter
/******/ 		});
/******/ 	};

/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};

/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports) {

eval("//Device height에 맞추기\r\n    function sizeMatching(){\r\n        $winHeight = $(window).height();\r\n        $('body').css('height', $winHeight);\r\n        if( $winHeight < 800 ){\r\n            $('div.join-form').css('margin', '0 auto');\r\n            $('form[name=\"join-form\"]').not('.complete').css('height', $winHeight-47+'px' );\r\n            $('form[name=\"join-form\"].complete').css('height', $winHeight+5+'px' );\r\n            $('div.docu-wrap').css('margin-top', 0).css('top', '0').find('a.close').addClass('inner');\r\n        }else{\r\n            $('div.join-form').css('margin', '80px auto');  \r\n            $marginTop = $('form[name=\"join-form\"]').offset().top;\r\n            $('form[name=\"join-form\"]').not('.complete').css('height', $winHeight-160-47+'px' );\r\n            $('form[name=\"join-form\"].complete').css('height', $winHeight-160+'px' );\r\n            $('div.docu-wrap').css('margin-top', '-400px').css('top', '50%').find('a.close').removeClass('inner');\r\n        }\r\n    };\r\n    sizeMatching();\r\n    $(window).on('resize', sizeMatching);\r\n    \r\n\r\n//Next button\r\n    jQuery.validator.setDefaults({\r\n        debug: true,\r\n        success: \"valid\"\r\n    });\r\n    $('form.validate').validate({\r\n        rules: {\r\n            password: \"required\",\r\n            passwordConf: {\r\n                equalTo: \"#password\"\r\n            }\r\n        },   \r\n        submitHandler: function(form) {\r\n            // do other things for a valid form\r\n            if( $('nav.join-nav').find('li[name=\"user-profile\"]').hasClass('active') ){\r\n                if( confirm('등록하시겠습니까?') ){\r\n                    form.submit();\r\n                };\r\n            }else if( $('nav.join-nav').find('li:first-child').hasClass('active') ){\r\n                var dataArr = { email : $('input#user-email').val() }\r\n                $.ajaxSetup({\r\n                        headers:{\r\n                            'X-CSRF-Token': $('input[name=\"_token\"]').val()\r\n                        }\r\n                    });\r\n                $.ajax({\r\n                    type:'POST',\r\n                    url:'/join_check',\r\n                    data:dataArr,\r\n                    success:function(data){\r\n                        if( data != 0 ){\r\n                            alert('이미 존재하는 이메일입니다!');\r\n                            return false;\r\n                        }else{\r\n                            if( confirm('다음 단계로 넘어가시겠습니까?') ){\r\n                                $('div#user-contents').removeClass('hidden').parent().animate(\r\n                                    { \r\n                                        left: '-100%'\r\n                                    },{ \r\n                                        complete:function(){\r\n                                            $('div#user-account').find('input.next').remove();\r\n                                            $('body').css('background', 'url(\"/img/background/03_back.jpg\") no-repeat').css('background-size', 'cover');\r\n                                        }\r\n                                    }\r\n                                );\r\n                                $('nav.join-nav').find('li:first-child').removeClass('active').next().addClass('active');\r\n                            }\r\n                        }\r\n                    },error:function(request,status,error){\r\n                        console.log(\"code:\"+request.status+\"\\n\"+\"message:\"+request.responseText+\"\\n\"+\"error:\"+error);\r\n                    }\r\n                });\r\n            };\r\n        }, \r\n        errorClass: 'error',\r\n        errorElement: 'span',\r\n        errorPlacement: function(error, element) {\r\n            if( !element.parents('div.form-group').find('label:first-child').hasClass('title') ){\r\n                element.closest('div.group').find('h2').append(error);\r\n            }else{\r\n                element.closest('div.form-group').find('label.title').append(error);\r\n            };\r\n            if( element.attr('name') == 'agree' ){\r\n                element.next('label').append(error);\r\n            };\r\n            if( element.attr('name') == 'agree' ){\r\n                element.next('label').append(error);\r\n            };\r\n        }\r\n    });\r\n//Scroll에 따라 프로필작성ON && 배경\r\n    $('form[name=\"join-form\"]').on('scroll', function(){\r\n        if( $('li[name=\"user-account\"]').hasClass('active') ){\r\n            return false;\r\n        }\r\n        var $scroll = $(\"div#user-profile\").offset().top;\r\n        if( $scroll < 200 ){\r\n            $('nav.join-nav').find('li:last-child').addClass('active').prev().removeClass('active');\r\n            $('body').css('background', 'url(\"/img/background/04_back.jpg\") no-repeat').css('background-size', 'cover');\r\n        }else{\r\n            $('nav.join-nav').find('li:last-child').removeClass('active').prev().addClass('active');\r\n            $('body').css('background', 'url(\"/img/background/03_back.jpg\") no-repeat').css('background-size', 'cover');\r\n        }\r\n    });\r\n//Add items\r\n    $('a.add-items').on('click', function(e){\r\n        e.preventDefault();\r\n        if( $(this).hasClass('video') ){\r\n            $count = $('div.video div.items:not(.hidden)').length;\r\n            $(this).prev('div.form-group').find('ul.video').css('width', 160*($count+1)+'px');\r\n            if( $('div.items[name=\"video3\"]').hasClass('hidden') ){\r\n                $(this).prev('div.form-group').find('div.items[name=\"video'+ ($count+1) +'\"]').removeClass('hidden');\r\n                $(this).prev('div.form-group').find('ul.video li[name=\"video'+ ($count+1) +'\"]').removeClass('hidden');\r\n            }else{\r\n                $(this).prev('div.form-group').find('div.items[name=\"video2\"]').removeClass('hidden');\r\n                $(this).prev('div.form-group').find('ul.video li[name=\"video2\"]').removeClass('hidden');\r\n            }\r\n        }else if( $(this).hasClass('spec') ){\r\n            if( $('input[name=\"spec-intro1[]\"]').length < 5 ){\r\n                $(this).parents('tr').before('<tr class=\"items\"><td><input type=\"text\" id=\"spec-intro\" name=\"spec-intro1[]\" class=\"intro digits spec\" placeholder=\"ex)2017\" autocomplete=\"Off\"/></td><td><input type=\"text\" name=\"spec-intro2[]\" class=\"intro spec\" placeholder=\"부산영화제\" autocomplete=\"Off\"/></td><td><input type=\"text\" name=\"spec-intro3[]\" class=\"intro spec\" autocomplete=\"Off\"/></td></tr>');\r\n            }\r\n        }\r\n    });\r\n\r\n//Delete item\r\n    $(document).on('click', 'a.delete' , function(e){\r\n        e.preventDefault();\r\n        if( $(this).parent().parent().parent().hasClass('sns') ){\r\n            $(this).parent().addClass('hidden').find('input').val('');\r\n            $name = $(this).prev().attr('name').replace('social_', '');\r\n            $('ul.select').find('li[name=\"'+$name+'\"]').removeClass('hidden');\r\n        }else if( $(this).parent().parent().parent().hasClass('video') ){\r\n            $count = $('input[name=\"videos[]\"]').length;\r\n            $nth = $(this).parent().index('div.items');\r\n            $(this).parent().find('a.change').html('직접등록').next().removeClass('hidden').next().addClass('hidden');\r\n            $(this).closest('div.form-group').find('ul.video').css('width', 160*($count-1)+'px');\r\n            $(this).closest('div.form-group').find('ul.video li:nth-child(' + ($nth+1) + ')').addClass('hidden');\r\n            $(this).closest('div.form-group').find('ul.video li:nth-child(' + ($nth+1) + ') video').remove();\r\n            $(this).parent().addClass('hidden');\r\n        }else{\r\n            if( $('input[name=\"spec-intro1[]\"]').length > 1 ){\r\n                $(this).closest('tr').prev().remove();\r\n            }\r\n        }\r\n    });\r\n//Folder item\r\n    $('a.toggle-folder').on('click',function(){\r\n        $(this).parent().next().toggleClass('hidden');\r\n        if( $(this).find('i').hasClass('fa-angle-down') ){\r\n            $(this).html('<i class=\"fa fa-angle-up\" aria-hidden=\"true\"></i>취소');\r\n            if( $(this).parent().next().is('textarea') ){\r\n                $(this).parent().next().empty().removeAttr('disabled');\r\n            }else{\r\n                $('input.spec').removeAttr('disabled');\r\n            }\r\n        }else{\r\n            $(this).html('<i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i>작성');\r\n            if( $(this).parent().next().is('textarea') ){\r\n                $(this).parent().next().attr('disabled','disabled');\r\n            }else{\r\n                $('input.spec').attr('disabled','disabled');\r\n            }\r\n        }\r\n    });\r\n//Select\r\n    $('div.selected').on('click', function(){\r\n        if( !$(this).prev('select').hasClass('disable') ){\r\n            $(this).toggleClass('active').next('ul.select').toggleClass('hidden');\r\n        }\r\n    });\r\n    // $('select').on('click', function(e){\r\n    //     //e.preventDefault();\r\n    //     if( !$(this).hasClass('disable') ){\r\n    //         $(this).toggleClass('active').next('ul.select').toggleClass('hidden');\r\n    //     }\r\n    // });\r\n    $('ul.select').on('click', 'li', function(){\r\n        $value = $(this).attr('name');\r\n        if( $(this).parent('ul.select').hasClass('sns') ){\r\n            $('div#social_'+$value).removeClass('hidden');\r\n            $(this).parent('ul.select').addClass('hidden').prev().removeClass('active');\r\n            $(this).parent('ul.select').find('li[name=\"'+$value+'\"]').addClass('hidden');\r\n        }else{\r\n            $data = $(this).parent('ul.select').prev().prev('select').find('option[value=\"'+$value+'\"]').html();\r\n            $(this).parent('ul.select').prev('div.selected').html($data);\r\n            $(this).parent('ul.select').prev().prev('select').find('option[value=\"'+$value+'\"]').prop(\"selected\", true);\r\n            $(this).parent('ul.select').addClass('hidden').prev().removeClass('active');\r\n            if( $(this).parent('ul.select').prev().prev('select').attr('name') == 'user-job' ){\r\n                if( $(this).attr('name') !== '기타 아티스트' ){\r\n                    $('select[name=\"user-job2\"], select[name=\"user-job3\"]').removeClass('disable');\r\n                }else{\r\n                    $('select[name=\"user-job2\"]').removeClass('disable');\r\n                    $('select[name=\"user-job3\"]').addClass('disable');\r\n                }\r\n                //jquery\r\n                $this = $('select[name=\"user-job\"]');\r\n                jQuery.ajax({ \r\n                    type:\"POST\", \r\n                    url:\"/php/detailJob.php\", \r\n                    data:\"Name=\"+$this.val(), \r\n                    success:function(msg){ \r\n                        $('select[name=\"user-job2\"]').html(msg);\r\n                    }, error:function(){\r\n\r\n                    }\r\n                });\r\n                jQuery.ajax({ \r\n                    type:\"POST\", \r\n                    url:\"/php/detailJob2.php\", \r\n                    data:\"Name=\"+$this.val(), \r\n                    success:function(msg){ \r\n                        $('select[name=\"user-job3\"]').html(msg); \r\n                    }, error:function(){\r\n\r\n                    }\r\n                }); \r\n                jQuery.ajax({ \r\n                    type:\"POST\", \r\n                    url:\"/php/detailJob_ul.php\", \r\n                    data:\"Name=\"+$this.val(), \r\n                    success:function(msg){ \r\n                        $('select[name=\"user-job2\"]').next().next('ul.select').html(msg); \r\n                    }, error:function(){\r\n\r\n                    }\r\n                }); \r\n                jQuery.ajax({ \r\n                    type:\"POST\", \r\n                    url:\"/php/detailJob2_ul.php\", \r\n                    data:\"Name=\"+$this.val(), \r\n                    success:function(msg){ \r\n                        $('select[name=\"user-job3\"]').next().next('ul.select').html(msg); \r\n                    }, error:function(){\r\n\r\n                    }\r\n                }); \r\n            }\r\n            if( $(this).parent('ul.select').prev().prev('select').attr('name') == 'user-job2' ){\r\n                $selected = $(this).attr('name');\r\n                $('select[name=\"user-job3\"]').next().next('ul.select').children('li').not('[name=\"'+$selected+'\"]').removeClass('hidden');\r\n                $('select[name=\"user-job3\"]').next().next('ul.select').find('li[name=\"'+$selected+'\"]').addClass('hidden');\r\n            }\r\n            if( $(this).parent('ul.select').prev().prev('select').attr('name') == 'user-job3' ){\r\n                $selected = $(this).attr('name');\r\n                $('select[name=\"user-job2\"]').next().next('ul.select').children('li').not('[name=\"'+$selected+'\"]').removeClass('hidden');\r\n                $('select[name=\"user-job2\"]').next().next('ul.select').find('li[name=\"'+$selected+'\"]').addClass('hidden');\r\n            }\r\n        }\r\n    });\r\n\r\n//이미지Preview\r\n    $(document).on('change', 'input[type=\"file\"].image', function(e){\r\n        if ($(this).val()!=\"\") {\r\n            //확장자 확인\r\n            var ext = $(this).val().split('.').pop().toLowerCase();\r\n            if($.inArray(ext, ['gif','png','jpg','jpeg']) == -1) {\r\n                alert('gif,png,jpg,jpeg 파일만 업로드 할수 있습니다.');\r\n                return;\r\n            }\r\n            if( $(this).attr('name') == 'main-profile' ){\r\n                var reader = new FileReader();\r\n                reader.onload = function (event) {\r\n                    $('div.preview.button').attr('style', 'background:url('+event.target.result+') center no-repeat;background-size:cover;').html('');\r\n                };\r\n            }else{\r\n                $nth = $(this).index('input[name=\"photos[]\"]');\r\n                var reader = new FileReader();\r\n                reader.onload = function (event) {\r\n                    var img = new Image();\r\n                        $('ul.photos-preview li:nth-child('+($nth+1)+')').attr('style', 'background:url('+event.target.result+') center no-repeat;background-size:cover;');\r\n                };\r\n            }\r\n            reader.readAsDataURL(this.files[0]);\r\n            return false;\r\n        }else{\r\n            if( $(this).attr('name') == 'main-profile' ){\r\n                $('div.preview.button').removeAttr('style').html('메인 사진 등록');\r\n            }else{\r\n                $('ul.photos-preview li:nth-child('+($nth+1)+')').removeAttr('style');\r\n            }\r\n        }\r\n    });\r\n//VideoPreview\r\n    $(document).on('click' , 'a.change.btn' , function(e){\r\n        e.preventDefault();\r\n        if( $(this).html() == '직접등록' ){\r\n            $(this).parent().find('input[type=\"file\"]').removeClass('hidden').removeAttr('disabled').prev().addClass('hidden').attr('disabled', 'disabled');\r\n            $(this).html('주소입력');\r\n            $nth = $(this).next().index('input[name=\"videos[]\"]');\r\n            $('div.video div.preview-items li:nth-child('+($nth+1)+')').append('<video name=\"video'+($nth+1)+'\" controls autoplay></video>');\r\n        }else{\r\n            $(this).parent().find('input[type=\"file\"]').addClass('hidden').attr('disabled', 'disabled').prev().removeClass('hidden').removeAttr('disabled');\r\n            $(this).html('직접등록');\r\n            $nth = $(this).next().index('input[name=\"videos[]\"]');\r\n            $('div.video div.preview-items li:nth-child('+($nth+1)+')').html('');\r\n        }\r\n    });\r\n\r\n    (function localFileVideoPlayer() {\r\n        var URL = window.URL || window.webkitURL\r\n        var playSelectedFile1 = function (event) {\r\n            var file = this.files[0]\r\n            var type = file.type\r\n            var videoNode = document.querySelector('video[name=\"video1\"]')\r\n            var canPlay = videoNode.canPlayType(type)\r\n            if (canPlay === '') canPlay = 'no'\r\n            var message = 'Can play type \"' + type + '\": ' + canPlay\r\n            var isError = canPlay === 'no'\r\n\r\n            if (isError) {\r\n                alert('지원하지 않는 확장자입니다!');\r\n                return\r\n            }\r\n\r\n            var fileURL = URL.createObjectURL(file)\r\n            videoNode.src = fileURL\r\n        }  \r\n        var playSelectedFile2 = function (event) {\r\n            var file = this.files[0]\r\n            var type = file.type\r\n            var videoNode = document.querySelector('video[name=\"video2\"]')\r\n            var canPlay = videoNode.canPlayType(type)\r\n            if (canPlay === '') canPlay = 'no'\r\n            var message = 'Can play type \"' + type + '\": ' + canPlay\r\n            var isError = canPlay === 'no'\r\n\r\n            if (isError) {\r\n                alert('지원하지 않는 확장자입니다!');\r\n                return\r\n            }\r\n\r\n            var fileURL = URL.createObjectURL(file)\r\n            videoNode.src = fileURL\r\n        }  \r\n        var playSelectedFile3 = function (event) {\r\n            var file = this.files[0]\r\n            var type = file.type\r\n            var videoNode = document.querySelector('video[name=\"video3\"]')\r\n            var canPlay = videoNode.canPlayType(type)\r\n            if (canPlay === '') canPlay = 'no'\r\n            var message = 'Can play type \"' + type + '\": ' + canPlay\r\n            var isError = canPlay === 'no'\r\n\r\n            if (isError) {\r\n                alert('지원하지 않는 확장자입니다!');\r\n                return\r\n            }\r\n\r\n            var fileURL = URL.createObjectURL(file)\r\n            videoNode.src = fileURL\r\n        }  \r\n        var inputNode1 = document.querySelector('input#videoDirect1');\r\n        var inputNode2 = document.querySelector('input#videoDirect2');\r\n        var inputNode3 = document.querySelector('input#videoDirect3');\r\n        inputNode1.addEventListener('change', playSelectedFile1, false)\r\n        inputNode2.addEventListener('change', playSelectedFile2, false)\r\n        inputNode3.addEventListener('change', playSelectedFile3, false)\r\n    })();\r\n\r\n    $(document).on('focusout', 'input[name=\"videos[]\"]', function(){\r\n        $src = $(this).val().replace('=','/')\r\n        if( $src=='' ){\r\n            $('li[name=\"'+$(this).attr('id')+'\"]').attr('style', 'background:none;');\r\n            return false;\r\n        }\r\n        if( $src.indexOf('youtube') != -1 ){\r\n            $imgSrc = $src.split('/');\r\n            var i = $imgSrc.length;\r\n            $preview = 'http://img.youtube.com/vi/'+$imgSrc[i-1]+'/0.jpg';       \r\n            $('li[name=\"'+$(this).attr('id')+'\"]').attr('style', 'background-image:url(\\\"'+$preview+'\\\"); background-size:cover; background-position:center;');\r\n        }else{\r\n            $('li[name=\"'+$(this).attr('id')+'\"]').attr('style', 'background:none;');\r\n        }\r\n    });\r\n//경력경험선택\r\n    $('div.group.career label:not(.strong)').on('click', function(e){\r\n        if( $('input[name=\"career\"]:checked').length < 5 ){\r\n            if( !$(this).parent('li').hasClass('active') ){\r\n                $(this).parent('li').addClass('active');\r\n            }else{\r\n                $(this).parent('li').removeClass('active');\r\n            }\r\n        }else{\r\n            e.preventDefault();\r\n            if( $(this).parent('li').hasClass('active') ){\r\n                $(this).parent('li').removeClass('active');\r\n                $(this).next().prop('checked', false);\r\n            }\r\n        };\r\n        \r\n    })\r\n//이용약관\r\n    $('label[for=\"agree\"] a').on('click', function(){\r\n        $name = $(this).attr('name');\r\n        $('div#'+$name).removeClass('hidden').siblings('div.cover').removeClass('hidden');\r\n    });\r\n    $('div.cover, a.close').on('click', function(){\r\n        $('div.docu-wrap').scrollTop(0).addClass('hidden');\r\n        $('div.cover').addClass('hidden');\r\n    });\r\n\r\n//Not-ready\r\n    $('a.not-ready').click(function(e){\r\n        e.preventDefault();\r\n        alert('준비중입니다!');\r\n    });\r\n    \r\n//Input FileCheck\r\n    //업로드 체크 \r\n    function fileCheck(fileValue)\r\n    {\r\n        //확장자 체크\r\n        var src = getFileType(fileValue);\r\n        if(!(src.toLowerCase() == \"zip\"))\r\n        {\r\n            alert(\"zip 파일로 압축하여 첨부해주세요.\");\r\n            return;\r\n        }\r\n        //사이즈체크\r\n        var maxSize  = 31457280    //30MB\r\n        var fielSize = Math.round(fileValue.fileSize);\r\n        if(fileSize > maxSize)\r\n        {\r\n            alert(\"첨부파일 사이즈는 30MB 이내로 등록 가능합니다.    \");\r\n            return;\r\n        }\r\n        form.submit();\r\n    }\r\n    \r\n    //파일 확장자 확인\r\n    function getFileType(filePath)\r\n    {\r\n        var index = -1;\r\n            index = filePath.lastIndexOf('.');\r\n        var type = \"\";\r\n        if(index != -1)\r\n        {\r\n            type = filePath.substring(index+1, filePath.len);\r\n        }\r\n        else\r\n        {\r\n            type = \"\";\r\n        }\r\n        return type;\r\n    }\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9yZXNvdXJjZXMvYXNzZXRzL2pzL2Zvcm0tc2NyaXB0LmpzPzM3NTIiXSwic291cmNlc0NvbnRlbnQiOlsiLy9EZXZpY2UgaGVpZ2h07JeQIOunnuy2lOq4sFxyXG4gICAgZnVuY3Rpb24gc2l6ZU1hdGNoaW5nKCl7XHJcbiAgICAgICAgJHdpbkhlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTtcclxuICAgICAgICAkKCdib2R5JykuY3NzKCdoZWlnaHQnLCAkd2luSGVpZ2h0KTtcclxuICAgICAgICBpZiggJHdpbkhlaWdodCA8IDgwMCApe1xyXG4gICAgICAgICAgICAkKCdkaXYuam9pbi1mb3JtJykuY3NzKCdtYXJnaW4nLCAnMCBhdXRvJyk7XHJcbiAgICAgICAgICAgICQoJ2Zvcm1bbmFtZT1cImpvaW4tZm9ybVwiXScpLm5vdCgnLmNvbXBsZXRlJykuY3NzKCdoZWlnaHQnLCAkd2luSGVpZ2h0LTQ3KydweCcgKTtcclxuICAgICAgICAgICAgJCgnZm9ybVtuYW1lPVwiam9pbi1mb3JtXCJdLmNvbXBsZXRlJykuY3NzKCdoZWlnaHQnLCAkd2luSGVpZ2h0KzUrJ3B4JyApO1xyXG4gICAgICAgICAgICAkKCdkaXYuZG9jdS13cmFwJykuY3NzKCdtYXJnaW4tdG9wJywgMCkuY3NzKCd0b3AnLCAnMCcpLmZpbmQoJ2EuY2xvc2UnKS5hZGRDbGFzcygnaW5uZXInKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgJCgnZGl2LmpvaW4tZm9ybScpLmNzcygnbWFyZ2luJywgJzgwcHggYXV0bycpOyAgXHJcbiAgICAgICAgICAgICRtYXJnaW5Ub3AgPSAkKCdmb3JtW25hbWU9XCJqb2luLWZvcm1cIl0nKS5vZmZzZXQoKS50b3A7XHJcbiAgICAgICAgICAgICQoJ2Zvcm1bbmFtZT1cImpvaW4tZm9ybVwiXScpLm5vdCgnLmNvbXBsZXRlJykuY3NzKCdoZWlnaHQnLCAkd2luSGVpZ2h0LTE2MC00NysncHgnICk7XHJcbiAgICAgICAgICAgICQoJ2Zvcm1bbmFtZT1cImpvaW4tZm9ybVwiXS5jb21wbGV0ZScpLmNzcygnaGVpZ2h0JywgJHdpbkhlaWdodC0xNjArJ3B4JyApO1xyXG4gICAgICAgICAgICAkKCdkaXYuZG9jdS13cmFwJykuY3NzKCdtYXJnaW4tdG9wJywgJy00MDBweCcpLmNzcygndG9wJywgJzUwJScpLmZpbmQoJ2EuY2xvc2UnKS5yZW1vdmVDbGFzcygnaW5uZXInKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgc2l6ZU1hdGNoaW5nKCk7XHJcbiAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIHNpemVNYXRjaGluZyk7XHJcbiAgICBcclxuXHJcbi8vTmV4dCBidXR0b25cclxuICAgIGpRdWVyeS52YWxpZGF0b3Iuc2V0RGVmYXVsdHMoe1xyXG4gICAgICAgIGRlYnVnOiB0cnVlLFxyXG4gICAgICAgIHN1Y2Nlc3M6IFwidmFsaWRcIlxyXG4gICAgfSk7XHJcbiAgICAkKCdmb3JtLnZhbGlkYXRlJykudmFsaWRhdGUoe1xyXG4gICAgICAgIHJ1bGVzOiB7XHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiBcInJlcXVpcmVkXCIsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkQ29uZjoge1xyXG4gICAgICAgICAgICAgICAgZXF1YWxUbzogXCIjcGFzc3dvcmRcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgICBcclxuICAgICAgICBzdWJtaXRIYW5kbGVyOiBmdW5jdGlvbihmb3JtKSB7XHJcbiAgICAgICAgICAgIC8vIGRvIG90aGVyIHRoaW5ncyBmb3IgYSB2YWxpZCBmb3JtXHJcbiAgICAgICAgICAgIGlmKCAkKCduYXYuam9pbi1uYXYnKS5maW5kKCdsaVtuYW1lPVwidXNlci1wcm9maWxlXCJdJykuaGFzQ2xhc3MoJ2FjdGl2ZScpICl7XHJcbiAgICAgICAgICAgICAgICBpZiggY29uZmlybSgn65Ox66Gd7ZWY7Iuc6rKg7Iq164uI6rmMPycpICl7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybS5zdWJtaXQoKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKCAkKCduYXYuam9pbi1uYXYnKS5maW5kKCdsaTpmaXJzdC1jaGlsZCcpLmhhc0NsYXNzKCdhY3RpdmUnKSApe1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGFBcnIgPSB7IGVtYWlsIDogJCgnaW5wdXQjdXNlci1lbWFpbCcpLnZhbCgpIH1cclxuICAgICAgICAgICAgICAgICQuYWpheFNldHVwKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnWC1DU1JGLVRva2VuJzogJCgnaW5wdXRbbmFtZT1cIl90b2tlblwiXScpLnZhbCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTonUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOicvam9pbl9jaGVjaycsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTpkYXRhQXJyLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBkYXRhICE9IDAgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfsnbTrr7gg7KG07J6s7ZWY64qUIOydtOuplOydvOyeheuLiOuLpCEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggY29uZmlybSgn64uk7J2MIOuLqOqzhOuhnCDrhJjslrTqsIDsi5zqsqDsirXri4jquYw/JykgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdkaXYjdXNlci1jb250ZW50cycpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKS5wYXJlbnQoKS5hbmltYXRlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogJy0xMDAlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LHsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTpmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2RpdiN1c2VyLWFjY291bnQnKS5maW5kKCdpbnB1dC5uZXh0JykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnYm9keScpLmNzcygnYmFja2dyb3VuZCcsICd1cmwoXCIvaW1nL2JhY2tncm91bmQvMDNfYmFjay5qcGdcIikgbm8tcmVwZWF0JykuY3NzKCdiYWNrZ3JvdW5kLXNpemUnLCAnY292ZXInKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnbmF2LmpvaW4tbmF2JykuZmluZCgnbGk6Zmlyc3QtY2hpbGQnKS5yZW1vdmVDbGFzcygnYWN0aXZlJykubmV4dCgpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sZXJyb3I6ZnVuY3Rpb24ocmVxdWVzdCxzdGF0dXMsZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImNvZGU6XCIrcmVxdWVzdC5zdGF0dXMrXCJcXG5cIitcIm1lc3NhZ2U6XCIrcmVxdWVzdC5yZXNwb25zZVRleHQrXCJcXG5cIitcImVycm9yOlwiK2Vycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9LCBcclxuICAgICAgICBlcnJvckNsYXNzOiAnZXJyb3InLFxyXG4gICAgICAgIGVycm9yRWxlbWVudDogJ3NwYW4nLFxyXG4gICAgICAgIGVycm9yUGxhY2VtZW50OiBmdW5jdGlvbihlcnJvciwgZWxlbWVudCkge1xyXG4gICAgICAgICAgICBpZiggIWVsZW1lbnQucGFyZW50cygnZGl2LmZvcm0tZ3JvdXAnKS5maW5kKCdsYWJlbDpmaXJzdC1jaGlsZCcpLmhhc0NsYXNzKCd0aXRsZScpICl7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsb3Nlc3QoJ2Rpdi5ncm91cCcpLmZpbmQoJ2gyJykuYXBwZW5kKGVycm9yKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsb3Nlc3QoJ2Rpdi5mb3JtLWdyb3VwJykuZmluZCgnbGFiZWwudGl0bGUnKS5hcHBlbmQoZXJyb3IpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZiggZWxlbWVudC5hdHRyKCduYW1lJykgPT0gJ2FncmVlJyApe1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5uZXh0KCdsYWJlbCcpLmFwcGVuZChlcnJvcik7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmKCBlbGVtZW50LmF0dHIoJ25hbWUnKSA9PSAnYWdyZWUnICl7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50Lm5leHQoJ2xhYmVsJykuYXBwZW5kKGVycm9yKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuLy9TY3JvbGzsl5Ag65Sw6528IO2UhOuhnO2VhOyekeyEsU9OICYmIOuwsOqyvVxyXG4gICAgJCgnZm9ybVtuYW1lPVwiam9pbi1mb3JtXCJdJykub24oJ3Njcm9sbCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgaWYoICQoJ2xpW25hbWU9XCJ1c2VyLWFjY291bnRcIl0nKS5oYXNDbGFzcygnYWN0aXZlJykgKXtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgJHNjcm9sbCA9ICQoXCJkaXYjdXNlci1wcm9maWxlXCIpLm9mZnNldCgpLnRvcDtcclxuICAgICAgICBpZiggJHNjcm9sbCA8IDIwMCApe1xyXG4gICAgICAgICAgICAkKCduYXYuam9pbi1uYXYnKS5maW5kKCdsaTpsYXN0LWNoaWxkJykuYWRkQ2xhc3MoJ2FjdGl2ZScpLnByZXYoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQoJ2JvZHknKS5jc3MoJ2JhY2tncm91bmQnLCAndXJsKFwiL2ltZy9iYWNrZ3JvdW5kLzA0X2JhY2suanBnXCIpIG5vLXJlcGVhdCcpLmNzcygnYmFja2dyb3VuZC1zaXplJywgJ2NvdmVyJyk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICQoJ25hdi5qb2luLW5hdicpLmZpbmQoJ2xpOmxhc3QtY2hpbGQnKS5yZW1vdmVDbGFzcygnYWN0aXZlJykucHJldigpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgJCgnYm9keScpLmNzcygnYmFja2dyb3VuZCcsICd1cmwoXCIvaW1nL2JhY2tncm91bmQvMDNfYmFjay5qcGdcIikgbm8tcmVwZWF0JykuY3NzKCdiYWNrZ3JvdW5kLXNpemUnLCAnY292ZXInKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuLy9BZGQgaXRlbXNcclxuICAgICQoJ2EuYWRkLWl0ZW1zJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGlmKCAkKHRoaXMpLmhhc0NsYXNzKCd2aWRlbycpICl7XHJcbiAgICAgICAgICAgICRjb3VudCA9ICQoJ2Rpdi52aWRlbyBkaXYuaXRlbXM6bm90KC5oaWRkZW4pJykubGVuZ3RoO1xyXG4gICAgICAgICAgICAkKHRoaXMpLnByZXYoJ2Rpdi5mb3JtLWdyb3VwJykuZmluZCgndWwudmlkZW8nKS5jc3MoJ3dpZHRoJywgMTYwKigkY291bnQrMSkrJ3B4Jyk7XHJcbiAgICAgICAgICAgIGlmKCAkKCdkaXYuaXRlbXNbbmFtZT1cInZpZGVvM1wiXScpLmhhc0NsYXNzKCdoaWRkZW4nKSApe1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5wcmV2KCdkaXYuZm9ybS1ncm91cCcpLmZpbmQoJ2Rpdi5pdGVtc1tuYW1lPVwidmlkZW8nKyAoJGNvdW50KzEpICsnXCJdJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5wcmV2KCdkaXYuZm9ybS1ncm91cCcpLmZpbmQoJ3VsLnZpZGVvIGxpW25hbWU9XCJ2aWRlbycrICgkY291bnQrMSkgKydcIl0nKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5wcmV2KCdkaXYuZm9ybS1ncm91cCcpLmZpbmQoJ2Rpdi5pdGVtc1tuYW1lPVwidmlkZW8yXCJdJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5wcmV2KCdkaXYuZm9ybS1ncm91cCcpLmZpbmQoJ3VsLnZpZGVvIGxpW25hbWU9XCJ2aWRlbzJcIl0nKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZSBpZiggJCh0aGlzKS5oYXNDbGFzcygnc3BlYycpICl7XHJcbiAgICAgICAgICAgIGlmKCAkKCdpbnB1dFtuYW1lPVwic3BlYy1pbnRybzFbXVwiXScpLmxlbmd0aCA8IDUgKXtcclxuICAgICAgICAgICAgICAgICQodGhpcykucGFyZW50cygndHInKS5iZWZvcmUoJzx0ciBjbGFzcz1cIml0ZW1zXCI+PHRkPjxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwic3BlYy1pbnRyb1wiIG5hbWU9XCJzcGVjLWludHJvMVtdXCIgY2xhc3M9XCJpbnRybyBkaWdpdHMgc3BlY1wiIHBsYWNlaG9sZGVyPVwiZXgpMjAxN1wiIGF1dG9jb21wbGV0ZT1cIk9mZlwiLz48L3RkPjx0ZD48aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwic3BlYy1pbnRybzJbXVwiIGNsYXNzPVwiaW50cm8gc3BlY1wiIHBsYWNlaG9sZGVyPVwi67aA7IKw7JiB7ZmU7KCcXCIgYXV0b2NvbXBsZXRlPVwiT2ZmXCIvPjwvdGQ+PHRkPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJzcGVjLWludHJvM1tdXCIgY2xhc3M9XCJpbnRybyBzcGVjXCIgYXV0b2NvbXBsZXRlPVwiT2ZmXCIvPjwvdGQ+PC90cj4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuLy9EZWxldGUgaXRlbVxyXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJ2EuZGVsZXRlJyAsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpZiggJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5oYXNDbGFzcygnc25zJykgKXtcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcygnaGlkZGVuJykuZmluZCgnaW5wdXQnKS52YWwoJycpO1xyXG4gICAgICAgICAgICAkbmFtZSA9ICQodGhpcykucHJldigpLmF0dHIoJ25hbWUnKS5yZXBsYWNlKCdzb2NpYWxfJywgJycpO1xyXG4gICAgICAgICAgICAkKCd1bC5zZWxlY3QnKS5maW5kKCdsaVtuYW1lPVwiJyskbmFtZSsnXCJdJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgICAgIH1lbHNlIGlmKCAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLmhhc0NsYXNzKCd2aWRlbycpICl7XHJcbiAgICAgICAgICAgICRjb3VudCA9ICQoJ2lucHV0W25hbWU9XCJ2aWRlb3NbXVwiXScpLmxlbmd0aDtcclxuICAgICAgICAgICAgJG50aCA9ICQodGhpcykucGFyZW50KCkuaW5kZXgoJ2Rpdi5pdGVtcycpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJ2EuY2hhbmdlJykuaHRtbCgn7KeB7KCR65Ox66GdJykubmV4dCgpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKS5uZXh0KCkuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJ2Rpdi5mb3JtLWdyb3VwJykuZmluZCgndWwudmlkZW8nKS5jc3MoJ3dpZHRoJywgMTYwKigkY291bnQtMSkrJ3B4Jyk7XHJcbiAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgnZGl2LmZvcm0tZ3JvdXAnKS5maW5kKCd1bC52aWRlbyBsaTpudGgtY2hpbGQoJyArICgkbnRoKzEpICsgJyknKS5hZGRDbGFzcygnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgnZGl2LmZvcm0tZ3JvdXAnKS5maW5kKCd1bC52aWRlbyBsaTpudGgtY2hpbGQoJyArICgkbnRoKzEpICsgJykgdmlkZW8nKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcygnaGlkZGVuJyk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGlmKCAkKCdpbnB1dFtuYW1lPVwic3BlYy1pbnRybzFbXVwiXScpLmxlbmd0aCA+IDEgKXtcclxuICAgICAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgndHInKS5wcmV2KCkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuLy9Gb2xkZXIgaXRlbVxyXG4gICAgJCgnYS50b2dnbGUtZm9sZGVyJykub24oJ2NsaWNrJyxmdW5jdGlvbigpe1xyXG4gICAgICAgICQodGhpcykucGFyZW50KCkubmV4dCgpLnRvZ2dsZUNsYXNzKCdoaWRkZW4nKTtcclxuICAgICAgICBpZiggJCh0aGlzKS5maW5kKCdpJykuaGFzQ2xhc3MoJ2ZhLWFuZ2xlLWRvd24nKSApe1xyXG4gICAgICAgICAgICAkKHRoaXMpLmh0bWwoJzxpIGNsYXNzPVwiZmEgZmEtYW5nbGUtdXBcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+7Leo7IaMJyk7XHJcbiAgICAgICAgICAgIGlmKCAkKHRoaXMpLnBhcmVudCgpLm5leHQoKS5pcygndGV4dGFyZWEnKSApe1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5uZXh0KCkuZW1wdHkoKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICQoJ2lucHV0LnNwZWMnKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICQodGhpcykuaHRtbCgnPGkgY2xhc3M9XCJmYSBmYS1hbmdsZS1kb3duXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPuyekeyEsScpO1xyXG4gICAgICAgICAgICBpZiggJCh0aGlzKS5wYXJlbnQoKS5uZXh0KCkuaXMoJ3RleHRhcmVhJykgKXtcclxuICAgICAgICAgICAgICAgICQodGhpcykucGFyZW50KCkubmV4dCgpLmF0dHIoJ2Rpc2FibGVkJywnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAkKCdpbnB1dC5zcGVjJykuYXR0cignZGlzYWJsZWQnLCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbi8vU2VsZWN0XHJcbiAgICAkKCdkaXYuc2VsZWN0ZWQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIGlmKCAhJCh0aGlzKS5wcmV2KCdzZWxlY3QnKS5oYXNDbGFzcygnZGlzYWJsZScpICl7XHJcbiAgICAgICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpLm5leHQoJ3VsLnNlbGVjdCcpLnRvZ2dsZUNsYXNzKCdoaWRkZW4nKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIC8vICQoJ3NlbGVjdCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xyXG4gICAgLy8gICAgIC8vZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgLy8gICAgIGlmKCAhJCh0aGlzKS5oYXNDbGFzcygnZGlzYWJsZScpICl7XHJcbiAgICAvLyAgICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpLm5leHQoJ3VsLnNlbGVjdCcpLnRvZ2dsZUNsYXNzKCdoaWRkZW4nKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9KTtcclxuICAgICQoJ3VsLnNlbGVjdCcpLm9uKCdjbGljaycsICdsaScsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJHZhbHVlID0gJCh0aGlzKS5hdHRyKCduYW1lJyk7XHJcbiAgICAgICAgaWYoICQodGhpcykucGFyZW50KCd1bC5zZWxlY3QnKS5oYXNDbGFzcygnc25zJykgKXtcclxuICAgICAgICAgICAgJCgnZGl2I3NvY2lhbF8nKyR2YWx1ZSkucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgndWwuc2VsZWN0JykuYWRkQ2xhc3MoJ2hpZGRlbicpLnByZXYoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50KCd1bC5zZWxlY3QnKS5maW5kKCdsaVtuYW1lPVwiJyskdmFsdWUrJ1wiXScpLmFkZENsYXNzKCdoaWRkZW4nKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgJGRhdGEgPSAkKHRoaXMpLnBhcmVudCgndWwuc2VsZWN0JykucHJldigpLnByZXYoJ3NlbGVjdCcpLmZpbmQoJ29wdGlvblt2YWx1ZT1cIicrJHZhbHVlKydcIl0nKS5odG1sKCk7XHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50KCd1bC5zZWxlY3QnKS5wcmV2KCdkaXYuc2VsZWN0ZWQnKS5odG1sKCRkYXRhKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoJ3VsLnNlbGVjdCcpLnByZXYoKS5wcmV2KCdzZWxlY3QnKS5maW5kKCdvcHRpb25bdmFsdWU9XCInKyR2YWx1ZSsnXCJdJykucHJvcChcInNlbGVjdGVkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgndWwuc2VsZWN0JykuYWRkQ2xhc3MoJ2hpZGRlbicpLnByZXYoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGlmKCAkKHRoaXMpLnBhcmVudCgndWwuc2VsZWN0JykucHJldigpLnByZXYoJ3NlbGVjdCcpLmF0dHIoJ25hbWUnKSA9PSAndXNlci1qb2InICl7XHJcbiAgICAgICAgICAgICAgICBpZiggJCh0aGlzKS5hdHRyKCduYW1lJykgIT09ICfquLDtg4Ag7JWE7Yuw7Iqk7Yq4JyApe1xyXG4gICAgICAgICAgICAgICAgICAgICQoJ3NlbGVjdFtuYW1lPVwidXNlci1qb2IyXCJdLCBzZWxlY3RbbmFtZT1cInVzZXItam9iM1wiXScpLnJlbW92ZUNsYXNzKCdkaXNhYmxlJyk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAkKCdzZWxlY3RbbmFtZT1cInVzZXItam9iMlwiXScpLnJlbW92ZUNsYXNzKCdkaXNhYmxlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnc2VsZWN0W25hbWU9XCJ1c2VyLWpvYjNcIl0nKS5hZGRDbGFzcygnZGlzYWJsZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9qcXVlcnlcclxuICAgICAgICAgICAgICAgICR0aGlzID0gJCgnc2VsZWN0W25hbWU9XCJ1c2VyLWpvYlwiXScpO1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LmFqYXgoeyBcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOlwiUE9TVFwiLCBcclxuICAgICAgICAgICAgICAgICAgICB1cmw6XCIvcGhwL2RldGFpbEpvYi5waHBcIiwgXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTpcIk5hbWU9XCIrJHRoaXMudmFsKCksIFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24obXNnKXsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ3NlbGVjdFtuYW1lPVwidXNlci1qb2IyXCJdJykuaHRtbChtc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGVycm9yOmZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LmFqYXgoeyBcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOlwiUE9TVFwiLCBcclxuICAgICAgICAgICAgICAgICAgICB1cmw6XCIvcGhwL2RldGFpbEpvYjIucGhwXCIsIFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6XCJOYW1lPVwiKyR0aGlzLnZhbCgpLCBcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKG1zZyl7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCdzZWxlY3RbbmFtZT1cInVzZXItam9iM1wiXScpLmh0bWwobXNnKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZXJyb3I6ZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7IFxyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LmFqYXgoeyBcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOlwiUE9TVFwiLCBcclxuICAgICAgICAgICAgICAgICAgICB1cmw6XCIvcGhwL2RldGFpbEpvYl91bC5waHBcIiwgXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTpcIk5hbWU9XCIrJHRoaXMudmFsKCksIFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24obXNnKXsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ3NlbGVjdFtuYW1lPVwidXNlci1qb2IyXCJdJykubmV4dCgpLm5leHQoJ3VsLnNlbGVjdCcpLmh0bWwobXNnKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZXJyb3I6ZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7IFxyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LmFqYXgoeyBcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOlwiUE9TVFwiLCBcclxuICAgICAgICAgICAgICAgICAgICB1cmw6XCIvcGhwL2RldGFpbEpvYjJfdWwucGhwXCIsIFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6XCJOYW1lPVwiKyR0aGlzLnZhbCgpLCBcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKG1zZyl7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCdzZWxlY3RbbmFtZT1cInVzZXItam9iM1wiXScpLm5leHQoKS5uZXh0KCd1bC5zZWxlY3QnKS5odG1sKG1zZyk7IFxyXG4gICAgICAgICAgICAgICAgICAgIH0sIGVycm9yOmZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pOyBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiggJCh0aGlzKS5wYXJlbnQoJ3VsLnNlbGVjdCcpLnByZXYoKS5wcmV2KCdzZWxlY3QnKS5hdHRyKCduYW1lJykgPT0gJ3VzZXItam9iMicgKXtcclxuICAgICAgICAgICAgICAgICRzZWxlY3RlZCA9ICQodGhpcykuYXR0cignbmFtZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnc2VsZWN0W25hbWU9XCJ1c2VyLWpvYjNcIl0nKS5uZXh0KCkubmV4dCgndWwuc2VsZWN0JykuY2hpbGRyZW4oJ2xpJykubm90KCdbbmFtZT1cIicrJHNlbGVjdGVkKydcIl0nKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICAkKCdzZWxlY3RbbmFtZT1cInVzZXItam9iM1wiXScpLm5leHQoKS5uZXh0KCd1bC5zZWxlY3QnKS5maW5kKCdsaVtuYW1lPVwiJyskc2VsZWN0ZWQrJ1wiXScpLmFkZENsYXNzKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiggJCh0aGlzKS5wYXJlbnQoJ3VsLnNlbGVjdCcpLnByZXYoKS5wcmV2KCdzZWxlY3QnKS5hdHRyKCduYW1lJykgPT0gJ3VzZXItam9iMycgKXtcclxuICAgICAgICAgICAgICAgICRzZWxlY3RlZCA9ICQodGhpcykuYXR0cignbmFtZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnc2VsZWN0W25hbWU9XCJ1c2VyLWpvYjJcIl0nKS5uZXh0KCkubmV4dCgndWwuc2VsZWN0JykuY2hpbGRyZW4oJ2xpJykubm90KCdbbmFtZT1cIicrJHNlbGVjdGVkKydcIl0nKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICAkKCdzZWxlY3RbbmFtZT1cInVzZXItam9iMlwiXScpLm5leHQoKS5uZXh0KCd1bC5zZWxlY3QnKS5maW5kKCdsaVtuYW1lPVwiJyskc2VsZWN0ZWQrJ1wiXScpLmFkZENsYXNzKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuLy/snbTrr7jsp4BQcmV2aWV3XHJcbiAgICAkKGRvY3VtZW50KS5vbignY2hhbmdlJywgJ2lucHV0W3R5cGU9XCJmaWxlXCJdLmltYWdlJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgaWYgKCQodGhpcykudmFsKCkhPVwiXCIpIHtcclxuICAgICAgICAgICAgLy/tmZXsnqXsnpAg7ZmV7J24XHJcbiAgICAgICAgICAgIHZhciBleHQgPSAkKHRoaXMpLnZhbCgpLnNwbGl0KCcuJykucG9wKCkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgaWYoJC5pbkFycmF5KGV4dCwgWydnaWYnLCdwbmcnLCdqcGcnLCdqcGVnJ10pID09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydCgnZ2lmLHBuZyxqcGcsanBlZyDtjIzsnbzrp4wg7JeF66Gc65OcIO2VoOyImCDsnojsirXri4jri6QuJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoICQodGhpcykuYXR0cignbmFtZScpID09ICdtYWluLXByb2ZpbGUnICl7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCdkaXYucHJldmlldy5idXR0b24nKS5hdHRyKCdzdHlsZScsICdiYWNrZ3JvdW5kOnVybCgnK2V2ZW50LnRhcmdldC5yZXN1bHQrJykgY2VudGVyIG5vLXJlcGVhdDtiYWNrZ3JvdW5kLXNpemU6Y292ZXI7JykuaHRtbCgnJyk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICRudGggPSAkKHRoaXMpLmluZGV4KCdpbnB1dFtuYW1lPVwicGhvdG9zW11cIl0nKTtcclxuICAgICAgICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgndWwucGhvdG9zLXByZXZpZXcgbGk6bnRoLWNoaWxkKCcrKCRudGgrMSkrJyknKS5hdHRyKCdzdHlsZScsICdiYWNrZ3JvdW5kOnVybCgnK2V2ZW50LnRhcmdldC5yZXN1bHQrJykgY2VudGVyIG5vLXJlcGVhdDtiYWNrZ3JvdW5kLXNpemU6Y292ZXI7Jyk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKHRoaXMuZmlsZXNbMF0pO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGlmKCAkKHRoaXMpLmF0dHIoJ25hbWUnKSA9PSAnbWFpbi1wcm9maWxlJyApe1xyXG4gICAgICAgICAgICAgICAgJCgnZGl2LnByZXZpZXcuYnV0dG9uJykucmVtb3ZlQXR0cignc3R5bGUnKS5odG1sKCfrqZTsnbgg7IKs7KeEIOuTseuhnScpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICQoJ3VsLnBob3Rvcy1wcmV2aWV3IGxpOm50aC1jaGlsZCgnKygkbnRoKzEpKycpJykucmVtb3ZlQXR0cignc3R5bGUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4vL1ZpZGVvUHJldmlld1xyXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJyAsICdhLmNoYW5nZS5idG4nICwgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGlmKCAkKHRoaXMpLmh0bWwoKSA9PSAn7KeB7KCR65Ox66GdJyApe1xyXG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJ2lucHV0W3R5cGU9XCJmaWxlXCJdJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJykucHJldigpLmFkZENsYXNzKCdoaWRkZW4nKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLmh0bWwoJ+yjvOyGjOyeheugpScpO1xyXG4gICAgICAgICAgICAkbnRoID0gJCh0aGlzKS5uZXh0KCkuaW5kZXgoJ2lucHV0W25hbWU9XCJ2aWRlb3NbXVwiXScpO1xyXG4gICAgICAgICAgICAkKCdkaXYudmlkZW8gZGl2LnByZXZpZXctaXRlbXMgbGk6bnRoLWNoaWxkKCcrKCRudGgrMSkrJyknKS5hcHBlbmQoJzx2aWRlbyBuYW1lPVwidmlkZW8nKygkbnRoKzEpKydcIiBjb250cm9scyBhdXRvcGxheT48L3ZpZGVvPicpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJ2lucHV0W3R5cGU9XCJmaWxlXCJdJykuYWRkQ2xhc3MoJ2hpZGRlbicpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJykucHJldigpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLmh0bWwoJ+yngeygkeuTseuhnScpO1xyXG4gICAgICAgICAgICAkbnRoID0gJCh0aGlzKS5uZXh0KCkuaW5kZXgoJ2lucHV0W25hbWU9XCJ2aWRlb3NbXVwiXScpO1xyXG4gICAgICAgICAgICAkKCdkaXYudmlkZW8gZGl2LnByZXZpZXctaXRlbXMgbGk6bnRoLWNoaWxkKCcrKCRudGgrMSkrJyknKS5odG1sKCcnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAoZnVuY3Rpb24gbG9jYWxGaWxlVmlkZW9QbGF5ZXIoKSB7XHJcbiAgICAgICAgdmFyIFVSTCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTFxyXG4gICAgICAgIHZhciBwbGF5U2VsZWN0ZWRGaWxlMSA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgZmlsZSA9IHRoaXMuZmlsZXNbMF1cclxuICAgICAgICAgICAgdmFyIHR5cGUgPSBmaWxlLnR5cGVcclxuICAgICAgICAgICAgdmFyIHZpZGVvTm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3ZpZGVvW25hbWU9XCJ2aWRlbzFcIl0nKVxyXG4gICAgICAgICAgICB2YXIgY2FuUGxheSA9IHZpZGVvTm9kZS5jYW5QbGF5VHlwZSh0eXBlKVxyXG4gICAgICAgICAgICBpZiAoY2FuUGxheSA9PT0gJycpIGNhblBsYXkgPSAnbm8nXHJcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gJ0NhbiBwbGF5IHR5cGUgXCInICsgdHlwZSArICdcIjogJyArIGNhblBsYXlcclxuICAgICAgICAgICAgdmFyIGlzRXJyb3IgPSBjYW5QbGF5ID09PSAnbm8nXHJcblxyXG4gICAgICAgICAgICBpZiAoaXNFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoJ+yngOybkO2VmOyngCDslYrripQg7ZmV7J6l7J6Q7J6F64uI64ukIScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBmaWxlVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKVxyXG4gICAgICAgICAgICB2aWRlb05vZGUuc3JjID0gZmlsZVVSTFxyXG4gICAgICAgIH0gIFxyXG4gICAgICAgIHZhciBwbGF5U2VsZWN0ZWRGaWxlMiA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgZmlsZSA9IHRoaXMuZmlsZXNbMF1cclxuICAgICAgICAgICAgdmFyIHR5cGUgPSBmaWxlLnR5cGVcclxuICAgICAgICAgICAgdmFyIHZpZGVvTm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3ZpZGVvW25hbWU9XCJ2aWRlbzJcIl0nKVxyXG4gICAgICAgICAgICB2YXIgY2FuUGxheSA9IHZpZGVvTm9kZS5jYW5QbGF5VHlwZSh0eXBlKVxyXG4gICAgICAgICAgICBpZiAoY2FuUGxheSA9PT0gJycpIGNhblBsYXkgPSAnbm8nXHJcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gJ0NhbiBwbGF5IHR5cGUgXCInICsgdHlwZSArICdcIjogJyArIGNhblBsYXlcclxuICAgICAgICAgICAgdmFyIGlzRXJyb3IgPSBjYW5QbGF5ID09PSAnbm8nXHJcblxyXG4gICAgICAgICAgICBpZiAoaXNFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoJ+yngOybkO2VmOyngCDslYrripQg7ZmV7J6l7J6Q7J6F64uI64ukIScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBmaWxlVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKVxyXG4gICAgICAgICAgICB2aWRlb05vZGUuc3JjID0gZmlsZVVSTFxyXG4gICAgICAgIH0gIFxyXG4gICAgICAgIHZhciBwbGF5U2VsZWN0ZWRGaWxlMyA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgZmlsZSA9IHRoaXMuZmlsZXNbMF1cclxuICAgICAgICAgICAgdmFyIHR5cGUgPSBmaWxlLnR5cGVcclxuICAgICAgICAgICAgdmFyIHZpZGVvTm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3ZpZGVvW25hbWU9XCJ2aWRlbzNcIl0nKVxyXG4gICAgICAgICAgICB2YXIgY2FuUGxheSA9IHZpZGVvTm9kZS5jYW5QbGF5VHlwZSh0eXBlKVxyXG4gICAgICAgICAgICBpZiAoY2FuUGxheSA9PT0gJycpIGNhblBsYXkgPSAnbm8nXHJcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gJ0NhbiBwbGF5IHR5cGUgXCInICsgdHlwZSArICdcIjogJyArIGNhblBsYXlcclxuICAgICAgICAgICAgdmFyIGlzRXJyb3IgPSBjYW5QbGF5ID09PSAnbm8nXHJcblxyXG4gICAgICAgICAgICBpZiAoaXNFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoJ+yngOybkO2VmOyngCDslYrripQg7ZmV7J6l7J6Q7J6F64uI64ukIScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBmaWxlVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKVxyXG4gICAgICAgICAgICB2aWRlb05vZGUuc3JjID0gZmlsZVVSTFxyXG4gICAgICAgIH0gIFxyXG4gICAgICAgIHZhciBpbnB1dE5vZGUxID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXQjdmlkZW9EaXJlY3QxJyk7XHJcbiAgICAgICAgdmFyIGlucHV0Tm9kZTIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dCN2aWRlb0RpcmVjdDInKTtcclxuICAgICAgICB2YXIgaW5wdXROb2RlMyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0I3ZpZGVvRGlyZWN0MycpO1xyXG4gICAgICAgIGlucHV0Tm9kZTEuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgcGxheVNlbGVjdGVkRmlsZTEsIGZhbHNlKVxyXG4gICAgICAgIGlucHV0Tm9kZTIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgcGxheVNlbGVjdGVkRmlsZTIsIGZhbHNlKVxyXG4gICAgICAgIGlucHV0Tm9kZTMuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgcGxheVNlbGVjdGVkRmlsZTMsIGZhbHNlKVxyXG4gICAgfSkoKTtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5vbignZm9jdXNvdXQnLCAnaW5wdXRbbmFtZT1cInZpZGVvc1tdXCJdJywgZnVuY3Rpb24oKXtcclxuICAgICAgICAkc3JjID0gJCh0aGlzKS52YWwoKS5yZXBsYWNlKCc9JywnLycpXHJcbiAgICAgICAgaWYoICRzcmM9PScnICl7XHJcbiAgICAgICAgICAgICQoJ2xpW25hbWU9XCInKyQodGhpcykuYXR0cignaWQnKSsnXCJdJykuYXR0cignc3R5bGUnLCAnYmFja2dyb3VuZDpub25lOycpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCAkc3JjLmluZGV4T2YoJ3lvdXR1YmUnKSAhPSAtMSApe1xyXG4gICAgICAgICAgICAkaW1nU3JjID0gJHNyYy5zcGxpdCgnLycpO1xyXG4gICAgICAgICAgICB2YXIgaSA9ICRpbWdTcmMubGVuZ3RoO1xyXG4gICAgICAgICAgICAkcHJldmlldyA9ICdodHRwOi8vaW1nLnlvdXR1YmUuY29tL3ZpLycrJGltZ1NyY1tpLTFdKycvMC5qcGcnOyAgICAgICBcclxuICAgICAgICAgICAgJCgnbGlbbmFtZT1cIicrJCh0aGlzKS5hdHRyKCdpZCcpKydcIl0nKS5hdHRyKCdzdHlsZScsICdiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiJyskcHJldmlldysnXFxcIik7IGJhY2tncm91bmQtc2l6ZTpjb3ZlcjsgYmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXI7Jyk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICQoJ2xpW25hbWU9XCInKyQodGhpcykuYXR0cignaWQnKSsnXCJdJykuYXR0cignc3R5bGUnLCAnYmFja2dyb3VuZDpub25lOycpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4vL+qyveugpeqyve2XmOyEoO2DnVxyXG4gICAgJCgnZGl2Lmdyb3VwLmNhcmVlciBsYWJlbDpub3QoLnN0cm9uZyknKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuICAgICAgICBpZiggJCgnaW5wdXRbbmFtZT1cImNhcmVlclwiXTpjaGVja2VkJykubGVuZ3RoIDwgNSApe1xyXG4gICAgICAgICAgICBpZiggISQodGhpcykucGFyZW50KCdsaScpLmhhc0NsYXNzKCdhY3RpdmUnKSApe1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoJ2xpJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICQodGhpcykucGFyZW50KCdsaScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmKCAkKHRoaXMpLnBhcmVudCgnbGknKS5oYXNDbGFzcygnYWN0aXZlJykgKXtcclxuICAgICAgICAgICAgICAgICQodGhpcykucGFyZW50KCdsaScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykubmV4dCgpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgfSlcclxuLy/snbTsmqnslb3qtIBcclxuICAgICQoJ2xhYmVsW2Zvcj1cImFncmVlXCJdIGEnKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICRuYW1lID0gJCh0aGlzKS5hdHRyKCduYW1lJyk7XHJcbiAgICAgICAgJCgnZGl2IycrJG5hbWUpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKS5zaWJsaW5ncygnZGl2LmNvdmVyJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgfSk7XHJcbiAgICAkKCdkaXYuY292ZXIsIGEuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICQoJ2Rpdi5kb2N1LXdyYXAnKS5zY3JvbGxUb3AoMCkuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgICAgICQoJ2Rpdi5jb3ZlcicpLmFkZENsYXNzKCdoaWRkZW4nKTtcclxuICAgIH0pO1xyXG5cclxuLy9Ob3QtcmVhZHlcclxuICAgICQoJ2Eubm90LXJlYWR5JykuY2xpY2soZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGFsZXJ0KCfspIDruYTspJHsnoXri4jri6QhJyk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4vL0lucHV0IEZpbGVDaGVja1xyXG4gICAgLy/sl4XroZzrk5wg7LK07YGsIFxyXG4gICAgZnVuY3Rpb24gZmlsZUNoZWNrKGZpbGVWYWx1ZSlcclxuICAgIHtcclxuICAgICAgICAvL+2ZleyepeyekCDssrTtgaxcclxuICAgICAgICB2YXIgc3JjID0gZ2V0RmlsZVR5cGUoZmlsZVZhbHVlKTtcclxuICAgICAgICBpZighKHNyYy50b0xvd2VyQ2FzZSgpID09IFwiemlwXCIpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYWxlcnQoXCJ6aXAg7YyM7J2866GcIOyVley2le2VmOyXrCDssqjrtoDtlbTso7zshLjsmpQuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v7IKs7J207KaI7LK07YGsXHJcbiAgICAgICAgdmFyIG1heFNpemUgID0gMzE0NTcyODAgICAgLy8zME1CXHJcbiAgICAgICAgdmFyIGZpZWxTaXplID0gTWF0aC5yb3VuZChmaWxlVmFsdWUuZmlsZVNpemUpO1xyXG4gICAgICAgIGlmKGZpbGVTaXplID4gbWF4U2l6ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGFsZXJ0KFwi7LKo67aA7YyM7J28IOyCrOydtOymiOuKlCAzME1CIOydtOuCtOuhnCDrk7HroZ0g6rCA64ql7ZWp64uI64ukLiAgICBcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9ybS5zdWJtaXQoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy/tjIzsnbwg7ZmV7J6l7J6QIO2ZleyduFxyXG4gICAgZnVuY3Rpb24gZ2V0RmlsZVR5cGUoZmlsZVBhdGgpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgIGluZGV4ID0gZmlsZVBhdGgubGFzdEluZGV4T2YoJy4nKTtcclxuICAgICAgICB2YXIgdHlwZSA9IFwiXCI7XHJcbiAgICAgICAgaWYoaW5kZXggIT0gLTEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlID0gZmlsZVBhdGguc3Vic3RyaW5nKGluZGV4KzEsIGZpbGVQYXRoLmxlbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHR5cGUgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHlwZTtcclxuICAgIH1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHJlc291cmNlcy9hc3NldHMvanMvZm9ybS1zY3JpcHQuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }
/******/ ]);